{
  "consumer": {
    "name": "sirius-workflow"
  },
  "provider": {
    "name": "sirius"
  },
  "interactions": [
    {
      "description": "A request to reassign the task",
      "providerState": "I assign a task to another person",
      "request": {
        "method": "PUT",
        "path": "/api/v1/users/86/tasks/1",
        "headers": {
          "Content-Type": "application/json",
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
        }
      }
    },
    {
      "description": "A request to get default team members for selected team",
      "providerState": "User logged in",
      "request": {
        "method": "GET",
        "path": "/api/v1/teams/13",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "id": 13,
          "name": "Lay Team 1 - (Supervision)"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.id": {
            "match": "type"
          },
          "$.body.name": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to workflow page",
      "providerState": "User exists",
      "request": {
        "method": "GET",
        "path": "/api/v1/users/current",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "deleted": false,
          "displayName": "case manager",
          "email": "case.manager@opgtest.com",
          "firstname": "case",
          "id": 65,
          "locked": false,
          "name": "case",
          "phoneNumber": "12345678",
          "roles": [
            "Case Manager"
          ],
          "surname": "manager",
          "suspended": false,
          "teams": [
            {
              "displayName": "Lay Team 1 - (Supervision)",
              "id": 13
            }
          ]
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.deleted": {
            "match": "type"
          },
          "$.body.displayName": {
            "match": "type"
          },
          "$.body.email": {
            "match": "type"
          },
          "$.body.firstname": {
            "match": "type"
          },
          "$.body.id": {
            "match": "type"
          },
          "$.body.locked": {
            "match": "type"
          },
          "$.body.name": {
            "match": "type"
          },
          "$.body.phoneNumber": {
            "match": "type"
          },
          "$.body.roles": {
            "min": 1
          },
          "$.body.roles[*].*": {
            "match": "type"
          },
          "$.body.surname": {
            "match": "type"
          },
          "$.body.suspended": {
            "match": "type"
          },
          "$.body.teams": {
            "min": 1
          },
          "$.body.teams[*].*": {
            "match": "type"
          },
          "$.body.teams[*].displayName": {
            "match": "type"
          },
          "$.body.teams[*].id": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my details without cookies",
      "providerState": "User exists",
      "request": {
        "method": "GET",
        "path": "/api/v1/users/current",
        "headers": {
          "OPG-Bypass-Membrane": "1"
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    },
    {
      "description": "A request to get tasks for a team which have long names",
      "providerState": "User is logged in",
      "request": {
        "method": "GET",
        "path": "/api/v1/assignees/team/13/tasks",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get all task types",
      "providerState": "User exists",
      "request": {
        "method": "GET",
        "path": "/api/v1/tasktypes/supervision",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "task_types": {
            "CWGN": {
              "category": "supervision",
              "complete": "Casework - General",
              "handle": "CWGN",
              "incomplete": "Casework - General",
              "user": true
            },
            "ORAL": {
              "category": "supervision",
              "complete": "Order - Allocate to team",
              "handle": "ORAL",
              "incomplete": "Order - Allocate to team",
              "user": true
            }
          }
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.task_types": {
            "match": "type"
          },
          "$.body.task_types.CWGN": {
            "match": "type"
          },
          "$.body.task_types.ORAL": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get all teams for dropdown",
      "providerState": "User logged in",
      "request": {
        "method": "GET",
        "path": "/api/v1/teams",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": [
          {
            "id": 13,
            "name": "Lay Team 1 - (Supervision)"
          }
        ],
        "matchingRules": {
          "$.body": {
            "min": 1
          },
          "$.body[*].*": {
            "match": "type"
          },
          "$.body[*].id": {
            "match": "type"
          },
          "$.body[*].name": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my permissions",
      "providerState": "User exists",
      "request": {
        "method": "GET",
        "path": "/api/v1/permissions",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my permissions without cookies",
      "providerState": "User exists",
      "request": {
        "method": "GET",
        "path": "/api/v1/permissions",
        "headers": {
          "OPG-Bypass-Membrane": "1"
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    },
    {
      "description": "A request to get default team members for selected team",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/teams/13",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "id": 13,
          "name": "Lay Team 1 - (Supervision)"
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.id": {
            "match": "type"
          },
          "$.body.name": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to workflow page",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/users/current",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "deleted": false,
          "displayName": "case manager",
          "email": "case.manager@opgtest.com",
          "firstname": "case",
          "id": 65,
          "locked": false,
          "name": "case",
          "phoneNumber": "12345678",
          "roles": [
            "Case Manager"
          ],
          "surname": "manager",
          "suspended": false,
          "teams": [
            {
              "displayName": "Lay Team 1 - (Supervision)",
              "id": 13
            }
          ]
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.deleted": {
            "match": "type"
          },
          "$.body.displayName": {
            "match": "type"
          },
          "$.body.email": {
            "match": "type"
          },
          "$.body.firstname": {
            "match": "type"
          },
          "$.body.id": {
            "match": "type"
          },
          "$.body.locked": {
            "match": "type"
          },
          "$.body.name": {
            "match": "type"
          },
          "$.body.phoneNumber": {
            "match": "type"
          },
          "$.body.roles": {
            "min": 1
          },
          "$.body.roles[*].*": {
            "match": "type"
          },
          "$.body.surname": {
            "match": "type"
          },
          "$.body.suspended": {
            "match": "type"
          },
          "$.body.teams": {
            "min": 1
          },
          "$.body.teams[*].*": {
            "match": "type"
          },
          "$.body.teams[*].displayName": {
            "match": "type"
          },
          "$.body.teams[*].id": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my details without cookies",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/users/current",
        "headers": {
          "OPG-Bypass-Membrane": "1"
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    },
    {
      "description": "A request to get tasks for a team which have long names",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/assignees/team/13/tasks",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get all task types",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/tasktypes/supervision",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "task_types": {
            "CWGN": {
              "category": "supervision",
              "complete": "Casework - General",
              "handle": "CWGN",
              "incomplete": "Casework - General",
              "user": true
            },
            "ORAL": {
              "category": "supervision",
              "complete": "Order - Allocate to team",
              "handle": "ORAL",
              "incomplete": "Order - Allocate to team",
              "user": true
            }
          }
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          },
          "$.body.task_types": {
            "match": "type"
          },
          "$.body.task_types.CWGN": {
            "match": "type"
          },
          "$.body.task_types.ORAL": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get all teams for dropdown",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/teams",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": [
          {
            "id": 13,
            "name": "Lay Team 1 - (Supervision)"
          }
        ],
        "matchingRules": {
          "$.body": {
            "min": 1
          },
          "$.body[*].*": {
            "match": "type"
          },
          "$.body[*].id": {
            "match": "type"
          },
          "$.body[*].name": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my permissions",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/permissions",
        "headers": {
          "Cookie": "XSRF-TOKEN=abcde; Other=other",
          "OPG-Bypass-Membrane": "1",
          "X-XSRF-TOKEN": "abcde"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
        },
        "matchingRules": {
          "$.body": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request to get my permissions without cookies",
      "providerState": "I am a Lay Team user",
      "request": {
        "method": "GET",
        "path": "/api/v1/permissions",
        "headers": {
          "OPG-Bypass-Membrane": "1"
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}